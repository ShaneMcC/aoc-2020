<?php

	if (isTest()) {
		$test = [];
		$test[] = ['1 + 2 * 3 + 4 * 5 + 6', 71, 231];
		$test[] = ['1 + (2 * 3) + (4 * (5 + 6))', 51, 51];
		$test[] = ['2 * 3 + (4 * 5)', 26, 46];
		$test[] = ['5 + (8 * 3 + 9 + 3 * 4 * 3)', 437, 1445];
		$test[] = ['5 * 9 * (7 * 3 * 3 + 9 * 3 + (8 + 6 * 4))', 12240, 669060];
		$test[] = ['((2 + 4 * 9) * (6 + 9 * 8 + 6) + 6) + 2 + 4 * 2', 13632, 23340];

		foreach ($test as $t) {
			echo 'Expression: ', $t[0], "\n";

			$p1 = parseExpression($t[0], ['+*']);
			echo "\t", 'Part 1: ', $p1, ' wanted ', $t[1], ' - ', ($t[1] == $p1 ? 'YES' : 'NO'), "\n";

			$p2 = parseExpression($t[0], ['+', '*']);
			echo "\t", 'Part 2: ', $p2, ' wanted ', $t[2], ' - ', ($t[2] == $p2 ? 'YES' : 'NO'), "\n";
		}
		die();
	}
